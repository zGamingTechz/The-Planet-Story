<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<<<<<<< HEAD
    <title>Mercury's Story - Solar System Explorer</title>
    <style>


    <title>Mercury's Story</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Mono:wght@400;700&display=swap');

>>>>>>> d9f30763e975566fe5daa6c15917c8a5c8324161
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
<<<<<<< HEAD
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #24243e 50%, #2b1b17 100%);
            color: white;
            overflow-x: hidden;
            min-height: 100vh;

            font-family: 'Space Mono', monospace;
            background: linear-gradient(135deg, #0a0a0a 0%, #2d1b12 30%, #1a0f0a 70%, #0f0f0f 100%);
            color: #ffffff;
            overflow-x: hidden;
            cursor: none;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .custom-cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #ff6b35 0%, #ff8c42 100%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.1s ease;
            box-shadow: 0 0 20px #ff6b35, 0 0 40px #ff6b35, 0 0 60px #ff6b35;
>>>>>>> d9f30763e975566fe5daa6c15917c8a5c8324161
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
<<<<<<< HEAD
            background-image: 
                radial-gradient(2px 2px at 20px 30px, #eee, transparent),
                radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
                radial-gradient(1px 1px at 90px 40px, #fff, transparent),
                radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent);
            background-repeat: repeat;
            background-size: 200px 100px;
            animation: twinkle 3s ease-in-out infinite;
            z-index: -1;
        }

        .container {
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            padding: 2rem 1rem;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .planet-title {
            font-size: 4rem;
            font-weight: bold;
            color: #D4C4A8;
            text-shadow: 0 0 20px #8C7853;
            margin-bottom: 1rem;
            letter-spacing: 2px;
        }

        .planet-visual {
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, #8C7853 0%, #A8956F 50%, #D4C4A8 100%);
            border-radius: 50%;
            margin: 2rem auto;
            box-shadow: 0 0 30px rgba(140, 120, 83, 0.5);
            animation: float 6s ease-in-out infinite;
            position: relative;
        }

        .planet-visual::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 30%;
            width: 30px;
            height: 30px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 50%;
        }

        .planet-visual::after {
            content: '';
            position: absolute;
            top: 60%;
            right: 25%;
            width: 20px;
            height: 20px;
            background: rgba(0, 0, 0, 0.15);
            border-radius: 50%;
        }

        .story-container {
            flex: 1;
            background: rgba(20, 20, 30, 0.9);
            backdrop-filter: blur(15px);
            border-top: 2px solid #8C7853;
            border-radius: 30px 30px 0 0;
            margin: 0 1rem;
            padding: 2rem;
            position: relative;
        }

        .story-content {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.2rem;
            line-height: 1.8;
            color: #e0e0e0;
            text-align: center;
            margin-bottom: 2rem;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
        }

        .home-btn {
            background: rgba(140, 120, 83, 0.2);
            border: 2px solid rgba(140, 120, 83, 0.5);
            color: #D4C4A8;
            padding: 12px 24px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .home-btn:hover {
            background: rgba(140, 120, 83, 0.4);
            transform: scale(1.05);
        }

        .progress-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .progress-bar {
            width: 150px;
            height: 8px;
            background: #333;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8C7853, #D4C4A8);
            width: 25%;
            transition: width 0.8s ease;
        }

        .progress-text {
            color: #D4C4A8;
            font-weight: bold;
        }

        .next-btn {
            background: linear-gradient(135deg, #8C7853, #D4C4A8);
            border: none;
            color: white;
            padding: 12px 30px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(140, 120, 83, 0.3);
        }

        .next-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(140, 120, 83, 0.5);
        }

        .next-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }

            z-index: -1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
>>>>>>> d9f30763e975566fe5daa6c15917c8a5c8324161
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

<<<<<<< HEAD
        @media (max-width: 768px) {
            .planet-title {
                font-size: 2.5rem;
            }
            
            .planet-visual {
                width: 150px;
                height: 150px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 1rem;
            }
            
            .progress-section {
                order: -1;
            }
=======
        .nebula {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(ellipse at 20% 50%, rgba(255, 107, 53, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(255, 140, 66, 0.06) 0%, transparent 50%),
                radial-gradient(ellipse at 40% 80%, rgba(139, 69, 19, 0.04) 0%, transparent 50%);
            z-index: -2;
        }

        .solar-rays {
            position: fixed;
            top: -20%;
            left: -20%;
            width: 140%;
            height: 140%;
            background:
                conic-gradient(from 0deg, transparent 0deg, rgba(255, 215, 0, 0.02) 5deg, transparent 10deg),
                conic-gradient(from 30deg, transparent 0deg, rgba(255, 140, 0, 0.015) 3deg, transparent 6deg),
                conic-gradient(from 60deg, transparent 0deg, rgba(255, 165, 0, 0.01) 2deg, transparent 4deg);
            animation: solarRotate 60s linear infinite;
            z-index: -3;
        }

        @keyframes solarRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .story-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            position: relative;
            z-index: 1;
            padding: 2rem;
        }

        .story-title {
            font-family: 'Orbitron', monospace;
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 900;
            text-align: center;
            background: linear-gradient(45deg, #c0c0c0, #a8a8a8, #ff6b35, #ff8c42, #ffd700);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: mercuryGradient 3s ease-in-out infinite;
            text-shadow: 0 0 30px rgba(255, 107, 53, 0.4);
            margin-bottom: 2rem;
            letter-spacing: 0.1em;
        }

        @keyframes mercuryGradient {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .planet-section {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .mercury-planet {
            width: clamp(180px, 22vw, 300px);
            height: clamp(180px, 22vw, 300px);
            background: radial-gradient(circle at 35% 25%,
                #e8e8e8 0%,
                #d3d3d3 15%,
                #b8b8b8 30%,
                #a0a0a0 45%,
                #8b8b8b 60%,
                #696969 75%,
                #4a4a4a 90%,
                #2f2f2f 100%);
            border-radius: 50%;
            position: relative;
            animation: mercuryFloat 4s ease-in-out infinite, mercuryRotate 20s linear infinite;
            box-shadow:
                0 0 40px rgba(255, 107, 53, 0.2),
                0 0 80px rgba(255, 140, 66, 0.15),
                inset -25px -25px 40px rgba(0, 0, 0, 0.4),
                inset 15px 15px 30px rgba(255, 255, 255, 0.1);
        }

        /* Mercury's craters */
        .mercury-planet::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            background:
                radial-gradient(circle at 70% 30%, rgba(0, 0, 0, 0.3) 0%, transparent 8%),
                radial-gradient(circle at 25% 60%, rgba(0, 0, 0, 0.25) 0%, transparent 12%),
                radial-gradient(circle at 80% 70%, rgba(0, 0, 0, 0.2) 0%, transparent 6%),
                radial-gradient(circle at 40% 20%, rgba(0, 0, 0, 0.15) 0%, transparent 4%),
                radial-gradient(circle at 60% 80%, rgba(0, 0, 0, 0.2) 0%, transparent 10%);
        }

        /* Sun glare effect */
        .mercury-planet::after {
            content: '';
            position: absolute;
            top: 15%;
            left: 25%;
            width: 40%;
            height: 40%;
            background: radial-gradient(ellipse, rgba(255, 255, 255, 0.4) 0%, rgba(255, 215, 0, 0.2) 30%, transparent 70%);
            border-radius: 50%;
            filter: blur(2px);
        }

        @keyframes mercuryFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes mercuryRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .story-interface {
            background: linear-gradient(135deg, rgba(45, 27, 18, 0.9), rgba(26, 15, 10, 0.9));
            border: 2px solid #ff6b35;
            border-radius: 20px;
            padding: 2rem;
            margin-top: auto;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 30px rgba(255, 107, 53, 0.2);
        }

        .story-text {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            min-height: 120px;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            border: 1px solid rgba(255, 107, 53, 0.3);
            color: #e8e8e8;
            position: relative;
        }

        .typing-cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background: #ff6b35;
            margin-left: 2px;
            animation: blink 1s infinite;
            position: relative;
            top: 0.1em;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .story-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .next-btn {
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            font-weight: 700;
            padding: 0.8rem 2rem;
            background: linear-gradient(45deg, #ff6b35, #ff8c42);
            border: none;
            border-radius: 25px;
            color: #000;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.3);
            min-width: 120px;
        }

        .next-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 107, 53, 0.5);
        }

        .next-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .home-btn {
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            font-weight: 700;
            padding: 0.6rem 1.5rem;
            background: linear-gradient(45deg, #c0c0c0, #d3d3d3);
            border: none;
            border-radius: 20px;
            color: #000;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            box-shadow: 0 0 15px rgba(192, 192, 192, 0.3);
        }

        .home-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(192, 192, 192, 0.5);
        }

        .progress-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: #ff6b35;
        }

        .progress-bar {
            width: 100px;
            height: 4px;
            background: rgba(255, 107, 53, 0.2);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b35, #ff8c42);
            border-radius: 2px;
            transition: width 0.3s ease;
            width: var(--progress, 0%);
        }

        .glow-effect {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(255, 107, 53, 0.04) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            animation: mercuryPulse 6s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes mercuryPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.4; }
            50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.2; }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .story-container {
                padding: 1rem;
            }

            .story-interface {
                padding: 1.5rem;
            }

            .story-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .next-btn, .home-btn {
                width: 100%;
                margin-bottom: 0.5rem;
            }

            .progress-indicator {
                justify-content: center;
            }
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 107, 53, 0.3);
            border-radius: 50%;
            border-top-color: #ff6b35;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Heat shimmer effect */
        .heat-shimmer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 2px,
                    rgba(255, 107, 53, 0.005) 2px,
                    rgba(255, 107, 53, 0.005) 4px
                );
            animation: shimmer 4s linear infinite;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(100px); }
>>>>>>> d9f30763e975566fe5daa6c15917c8a5c8324161
        }
    </style>
</head>
<body>
<<<<<<< HEAD
    <div class="stars"></div>
    
    <div class="container">
        <div class="header">
            <h1 class="planet-title">MERCURY'S STORY</h1>
            <div class="planet-visual"></div>
        </div>
        
        <div class="story-container">
            <div class="story-content" id="storyContent">
                Welcome to Mercury's domain, traveler. The closest planet to our Sun races through space at incredible speeds, completing its orbit in just 88 Earth days. Your journey into this scorching world begins now...
            </div>
            
            <div class="navigation">
                <a href="index.html" class="home-btn">
                    🏠 HOME
                </a>
                
                <div class="progress-section">
                    <span class="progress-text">Progress:</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <span class="progress-text" id="progressText">1/4</span>
                </div>
                
                <button class="next-btn" id="nextBtn" onclick="nextStory()">
                    NEXT →
                </button>
=======
    <div class="custom-cursor"></div>
    <div class="stars"></div>
    <div class="nebula"></div>
    <div class="solar-rays"></div>
    <div class="heat-shimmer"></div>
    <div class="glow-effect"></div>

    <div class="story-container">
        <h1 class="story-title">MERCURY'S STORY</h1>

        <div class="planet-section">
            <div class="mercury-planet" id="mercuryPlanet"></div>
        </div>

        <div class="story-interface">
            <div class="story-text" id="storyText">
                {{ story }}
            </div>

            <div class="story-controls">
                <button class="home-btn" onclick="goHome()">← Home</button>

                <div class="progress-indicator">
                    <span>Progress:</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <span id="progressText">1/50</span>
                </div>

                <button class="next-btn" id="nextBtn" onclick="nextStory()">Next →</button>
>>>>>>> d9f30763e975566fe5daa6c15917c8a5c8324161
            </div>
        </div>
    </div>

    <script>
<<<<<<< HEAD
        const stories =[
            {
                content: "Welcome to Mercury's domain, traveler. The closest planet to our Sun races through space at incredible speeds, completing its orbit in just 88 Earth days. Your journey into this scorching world begins now...",
                progress: 25
            },
            {
                content: "Mercury, the swift messenger of the gods, races around the Sun in just 88 Earth days. Its cratered surface tells tales of ancient cosmic bombardments, where asteroids and comets have left their mark for billions of years.",
                progress: 50
            },
            {
                content: "On Mercury's day side, temperatures soar to 800°F (427°C), hot enough to melt lead. Yet on its night side, it plunges to -300°F (-184°C). This extreme temperature variation makes Mercury one of the most hostile worlds in our solar system.",
                progress: 75
            },
            {
                content: "Despite being the smallest planet, Mercury has a large iron core that makes up about 75% of its radius. This gives Mercury a magnetic field, though it's only about 1% as strong as Earth's. Mercury has no atmosphere to speak of, which means no weather, no clouds, and no protection from meteorites.",
                progress: 100
            }
        ];

        let currentStoryIndex = 0;

        function updateStory() {
            const storyContent = document.getElementById('storyContent');
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const nextBtn = document.getElementById('nextBtn');

            const currentStory = stories[currentStoryIndex];
            
            storyContent.textContent = currentStory.content;
            progressFill.style.width = currentStory.progress + '%';
            progressText.textContent = `${currentStoryIndex + 1}/${stories.length}`;

            if (currentStoryIndex >= stories.length - 1) {
                nextBtn.textContent = 'COMPLETE';
                nextBtn.disabled = true;
            }
        }

        function nextStory() {
            if (currentStoryIndex < stories.length - 1) {
                currentStoryIndex++;
                updateStory();
            }
        }

        // Touch navigation for mobile
        let touchStartX = null;

        document.addEventListener('touchstart', function(e) {
            touchStartX = e.touches[0].clientX;
        });

        document.addEventListener('touchend', function(e) {
            if (!touchStartX) return;
            
            const touchEndX = e.changedTouches[0].clientX;
            const diff = touchStartX - touchEndX;
            
            if (diff > 50 && currentStoryIndex < stories.length - 1) {
                nextStory();
            }
            
            touchStartX = null;
        });

        // Initialize
        updateStory();
=======
        // Custom cursor
        const cursor = document.querySelector('.custom-cursor');
        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function updateCursor() {
            cursorX += (mouseX - cursorX) * 0.1;
            cursorY += (mouseY - cursorY) * 0.1;
            cursor.style.left = cursorX + 'px';
            cursor.style.top = cursorY + 'px';
            requestAnimationFrame(updateCursor);
        }
        updateCursor();

        // Create stars
        function createStars() {
            const starsContainer = document.querySelector('.stars');
            for (let i = 0; i < 120; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';

                const size = Math.random() * 3 + 1;
                star.style.width = size + 'px';
                star.style.height = size + 'px';

                // Some stars closer to Mercury's colors
                if (Math.random() > 0.8) {
                    star.style.background = '#ff6b35';
                    star.style.boxShadow = '0 0 10px #ff6b35';
                }

                starsContainer.appendChild(star);
            }
        }

        // Story management
        let currentStoryPart = 1;
        let totalParts = 70;
        let isTyping = false;

        // Typing animation function
        function typeText(element, text, speed = 35) {
            return new Promise((resolve) => {
                isTyping = true;
                element.innerHTML = '';
                let i = 0;

                // Add cursor
                const cursor = document.createElement('span');
                cursor.className = 'typing-cursor';
                element.appendChild(cursor);

                function typeChar() {
                    if (i < text.length) {
                        // Insert character before cursor
                        const textNode = document.createTextNode(text.charAt(i));
                        element.insertBefore(textNode, cursor);
                        i++;

                        // Variable speed for more natural typing
                        const nextSpeed = speed + Math.random() * 15;
                        setTimeout(typeChar, nextSpeed);
                    } else {
                        // Remove cursor when done
                        setTimeout(() => {
                            cursor.remove();
                            isTyping = false;
                            resolve();
                        }, 500);
                    }
                }

                typeChar();
            });
        }

        // Button hover effects
        document.querySelectorAll('.next-btn, .home-btn').forEach(element => {
            element.addEventListener('mouseenter', () => {
                cursor.style.transform = 'scale(1.5)';
            });

            element.addEventListener('mouseleave', () => {
                cursor.style.transform = 'scale(1)';
            });
        });

        // Story progression function
        async function nextStory() {
            if (isTyping) return; // Prevent clicking during typing

            const nextBtn = document.getElementById('nextBtn');
            const storyText = document.getElementById('storyText');

            // Disable button and show loading
            nextBtn.disabled = true;
            nextBtn.innerHTML = '<div class="loading"></div> Loading...';

            try {
                // Make request to Flask backend
                const response = await fetch('/mercury', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        story_part: currentStoryPart
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    const newText = data.message || data.text || 'Story continues...';

                    await typeText(storyText, newText, 30);

                    // Update progress
                    currentStoryPart++;
                    updateProgress();

                    // Update planet image if provided
                    if (data.planet_image) {
                        updatePlanetImage(data.planet_image);
                    }

                    // Check if story is complete
                    if (data.is_complete || currentStoryPart >= totalParts) {
                        nextBtn.textContent = 'Story Complete';
                        nextBtn.disabled = true;
                    }

                } else {
                    throw new Error('Failed to load story');
                }

            } catch (error) {
                console.error('Error:', error);
                await typeText(storyText, 'Error loading story. Please try again.', 40);
            } finally {
                // Re-enable button
                if (currentStoryPart < totalParts) {
                    nextBtn.disabled = false;
                    nextBtn.textContent = 'Next →';
                }
            }
        }

        // Update progress indicator
        function updateProgress() {
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');

            const progressPercentage = (currentStoryPart / totalParts) * 100;
            progressFill.style.setProperty('--progress', progressPercentage + '%');
            progressText.textContent = `${currentStoryPart}/${totalParts}`;
        }

        // Update planet image (for dynamic changes)
        function updatePlanetImage(imageUrl) {
            const planet = document.getElementById('mercuryPlanet');
            // Add a heat pulse effect to indicate change
            planet.style.animation = 'mercuryFloat 4s ease-in-out infinite, mercuryRotate 20s linear infinite, mercuryPulse 1s ease-in-out';
            setTimeout(() => {
                planet.style.animation = 'mercuryFloat 4s ease-in-out infinite, mercuryRotate 20s linear infinite';
            }, 1000);
        }

        // Navigate back to home
        function goHome() {
            if (isTyping) return; // Prevent navigation during typing
            window.location.href = '/';
        }

        // Skip typing animation on click
        document.getElementById('storyText').addEventListener('click', () => {
            if (isTyping) {
                // Fast-forward typing by reducing the global speed
                isTyping = false;
            }
        });

        // Initialize
        createStars();
        updateProgress();

        // Handle page visibility for pause/resume animations
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                document.querySelectorAll('*').forEach(el => {
                    if (el.style.animationPlayState !== undefined) {
                        el.style.animationPlayState = 'paused';
                    }
                });
            } else {
                document.querySelectorAll('*').forEach(el => {
                    if (el.style.animationPlayState !== undefined) {
                        el.style.animationPlayState = 'running';
                    }
                });
            }
        });
>>>>>>> d9f30763e975566fe5daa6c15917c8a5c8324161
    </script>
</body>
</html>